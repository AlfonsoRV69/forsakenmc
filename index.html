<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <link rel="icon" type="image/png" href="/forsakenmclogo.png" />
  <title>ForsakenMC - Mod para Minecraft Java</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <style>
    body {
      min-height: 100vh;
      background:
        linear-gradient(to bottom, #35713e 0%, #b62e2e 50%, #191a1b 100%) fixed;
      color: #dad793;
      font-family: 'Press Start 2P', monospace;
      margin: 0;
      padding: 0;
    }
    .main-card {
      max-width: 900px;
      margin: 60px auto 30px auto;
      background: rgba(22, 30, 22, 0.86);
      border: 4px solid #3eff36;
      border-radius: 16px;
      box-shadow: 0 0 32px 12px #000b, 0 0 8px 2px #3eff3677 inset;
      padding: 36px 22px 26px 22px;
      position: relative;
      text-align: center;
      backdrop-filter: blur(1.5px);
    }
    .main-card h1 {
      color: #fff;
      text-shadow: 0 0 12px #3eff36, 2px 2px 0 #000;
      font-size: 2.1em;
      margin-bottom: 0.5em;
      letter-spacing: 2px;
    }
    .main-card h2 {
      color: #b62e2e;
      text-shadow: 0 0 8px #b62e2e, 2px 2px 0 #000;
      font-size: 1.4em;
      margin-top: 2em;
      margin-bottom: 0.2em;
      letter-spacing: 1px;
    }
    .main-card ul, .main-card ol {
      text-align: left;
      margin: 0 auto 1.2em auto;
      max-width: 550px;
      font-size: 1em;
    }
    .main-card li {
      margin-bottom: 12px;
      text-shadow: 2px 2px 0 #181a1b;
    }
    .btn {
      display: inline-block;
      background: #b62e2e;
      color: #fff;
      padding: 12px 36px;
      margin: 1.5em auto 1em auto;
      font-size: 1.14em;
      border-radius: 8px;
      border: 2px solid #fff;
      font-family: inherit;
      font-weight: bold;
      box-shadow: 0 0 18px 4px #b62e2ea0, 0 0 10px #fff3 inset;
      text-shadow: 0 0 8px #fff, 2px 2px 0 #191a1b;
      transition: background 0.2s, color 0.2s, box-shadow 0.2s;
      text-align: center;
      cursor: pointer;
      letter-spacing: 2px;
    }
    .btn:hover {
      background: #3eff36;
      color: #191a1b;
      box-shadow: 0 0 16px 6px #3eff36cc, 0 0 10px #fff9 inset;
    }
    .logo-fmcpfp {
      display: block;
      margin: 0 auto 24px auto;
      width: 128px;
      height: 128px;
      border-radius: 25px;
      box-shadow: 0 0 24px #222, 0 0 6px #fff3;
      background: #203c10;
      object-fit: contain;
      border: 4px solid #3eff36;
      transition: transform 0.2s;
    }
    .logo-fmcpfp:hover {
      transform: scale(1.06) rotate(-2deg);
      box-shadow: 0 0 32px #3eff36, 0 0 8px #fff9;
    }
    .lang-switch {
      display: flex;
      gap: 12px;
      justify-content: flex-end;
      margin-bottom: 10px;
    }
    .lang-btn {
      background: #222;
      color: #dad793;
      font-family: inherit;
      font-size: 1em;
      border: 2px solid #b62e2e;
      border-radius: 6px;
      padding: 4px 18px;
      cursor: pointer;
      box-shadow: 0 0 6px #b62e2eb0;
      font-weight: bold;
      transition: background 0.2s, color 0.2s, border 0.2s;
    }
    .lang-btn.active, .lang-btn:hover {
      background: #b62e2e;
      color: #fff;
      border-color: #fff;
      box-shadow: 0 0 8px #fff;
    }
    .credits-btn, .gallery-btn {
      background: #56aaff;
      color: #203c10;
      border: 2px solid #fff;
      border-radius: 6px;
      font-family: inherit;
      font-size: 1em;
      padding: 8px 24px;
      cursor: pointer;
      box-shadow: 0 0 12px #56aaff, 0 0 4px #fff9;
      font-weight: bold;
      text-shadow: 1px 1px 0 #dad793;
      transition: background 0.2s, color 0.2s;
      z-index: 10;
      margin: 0 12px 18px 12px;
      position: relative;
      top: 0;
      left: 0;
      right: 0;
      display: inline-block;
    }
    .credits-btn:hover,
    .gallery-btn:hover {
      background: #b62e2e;
      color: #fff;
      box-shadow: 0 0 14px #b62e2e;
    }
    .gallery-btn { }
    .credits-gallery-row {
      display: flex;
      gap: 24px;
      justify-content: center;
      margin-bottom: 10px;
      flex-wrap: wrap;
    }
    /* Modal styles */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0; top: 0;
      width: 100%; height: 100%;
      overflow: auto;
      background: rgba(0,0,0,0.88);
    }
    .modal-content {
      background-color: #232d19;
      margin: 7% auto;
      padding: 28px 36px 18px 36px;
      border: 6px solid #b62e2e;
      border-radius: 16px;
      width: 90%;
      max-width: 540px;
      color: #dad793;
      font-family: 'Press Start 2P', monospace;
      font-size: 0.93em;
      box-shadow: 0 0 32px #111;
      text-align: center;
      box-sizing: border-box;
      text-shadow: 1px 1px 0 #191a1b;
    }
    .close {
      color: #3eff36;
      float: right;
      font-size: 1.5em;
      font-weight: bold;
      cursor: pointer;
      margin-left: 10px;
    }
    .close:hover,
    .close:focus {
      color: #fff600;
      text-decoration: none;
      cursor: pointer;
    }
    .gallery-grid {
      margin: 24px 0 0 0;
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      justify-content: center;
    }
    .gallery-grid img {
      border-radius: 8px;
      border: 2px solid #3eff36;
      box-shadow: 0 0 12px #000, 0 0 8px #3eff36aa;
      max-width: 140px;
      width: 100%;
      height: 90px;
      object-fit: cover;
      cursor: pointer;
      transition: transform 0.15s, box-shadow 0.15s;
      background: #181a1b;
    }
    .gallery-grid img:hover {
      transform: scale(1.12) rotate(-2deg);
      box-shadow: 0 0 18px #b62e2e, 0 0 8px #fff9;
      border-color: #fff;
    }
    .gallery-caption {
      display: block;
      font-size: 0.95em;
      color: #3eff36;
      margin-bottom: 2px;
      margin-top: 2px;
      text-align: center;
      text-shadow: 1px 1px 0 #191a1b, 0 0 8px #222;
      font-family: inherit;
      font-weight: bold;
      letter-spacing: 1px;
      word-break: break-word;
    }
    .gallery-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      max-width: 140px;
    }
    .full-img-modal {
      display: none;
      position: fixed;
      z-index: 2000;
      left: 0; top: 0;
      width: 100vw; height: 100vh;
      background: rgba(0,0,0,0.92);
      justify-content: center;
      align-items: center;
      text-align: center;
    }
    .full-img-modal img {
      max-width: 96vw;
      max-height: 84vh;
      border-radius: 16px;
      box-shadow: 0 0 44px #b62e2e, 0 0 8px #fff9;
      border: 4px solid #3eff36;
      background: #181a1b;
    }
    .full-img-modal .close-full {
      color: #fff;
      font-size: 2.2em;
      font-weight: bold;
      position: absolute;
      top: 24px;
      right: 40px;
      cursor: pointer;
      text-shadow: 0 0 8px #b62e2e, 0 0 8px #fff;
      z-index: 2100;
    }
    @media (max-width: 900px) {
      .main-card { margin: 18px; padding: 12px; }
      .credits-gallery-row { flex-direction: column; align-items: stretch; gap: 12px;}
    }
    @media (max-width: 600px) {
      .main-card {
        padding: 8px;
        margin: 0;
        border-width: 3px;
        border-radius: 10px;
      }
      h1 { font-size: 1.1em; }
      h2 { font-size: 1em; }
      .lang-switch { justify-content: center; }
      .credits-btn,
      .gallery-btn { margin: 0 6px 12px 6px; }
      .modal-content { padding: 12px; border-width: 3px; }
      .logo-fmcpfp { width: 64px; height: 64px; margin-bottom: 14px;}
      .gallery-grid img { max-width: 100px; height: 62px;}
      .gallery-item { max-width: 100px; }
    }
    @media (max-width: 420px) {
      .main-card { padding: 2vw; }
      .logo-fmcpfp { width: 38px; height: 38px;}
      .btn { font-size: 0.81em; padding: 8px 0; }
    }
  </style>
  <script>
    const content = {
      es: {
        title: "ForsakenMC - Mod para Minecraft Java",
        mainTitle: "ForsakenMC",
        subtitle: "ForsakenMC es un mod para <span style='color:#6dca45;'>Minecraft Java Edition</span> para <b>NeoForge 1.21.1</b> que trae contenido del popular juego de Roblox <b>Forsaken</b> a Minecraft. ¡Vive nuevas aventuras y desafíos inspirados en Forsaken!",
        featuresTitle: "Características principales",
        features: [
          "Añade armas, mobs, ítems y mecánicas de Forsaken (Roblox)",
          "Añade una nueva estructura de Forsaken",
          "Enfréntate a mobs personalizados y desafiantes de Forsaken"
        ],
        installTitle: "Instalación",
        installSteps: [
          "Instala <a href='https://neoforged.net/' target='_blank'>NeoForge 1.21.1</a> para Minecraft.",
          "Descarga el archivo <code>.jar</code> de ForsakenMC desde la <a href='https://github.com/AlfonsoRV69/forsakenmc/releases' target='_blank'>página de releases</a>.",
          "Coloca el archivo en la carpeta <code>mods</code> de tu instalación de Minecraft.",
          "¡Inicia el juego y disfruta!"
        ],
        download: "Descargar ForsakenMC",
        supportTitle: "Soporte y comunidad",
        support: "¿Dudas o sugerencias? Abre un <a href='https://github.com/AlfonsoRV69/forsakenmc/issues' target='_blank'>issue</a>.<br>¡Gracias por apoyar el mod!",
        creditsBtn: "Créditos",
        galleryBtn: "Galería",
        galleryTitle: "Imágenes del Mod",
        galleryCaptions: ["Estructura", "Survivors", "Killers", "Skins"],
        changelogTitle: "Changelog (Última versión)",
        changelogLoading: "<em>Cargando...</em>",
        changelogError: "Error al cargar el changelog.",
        changelogNotFound: "No se encontró información de releases.",
        credits: `<b>Créditos</b><br><br>
          Creado usando el creador de mods <a href="https://mcreator.net/about" target="_blank" style="color:#56aaff;">MCreator</a><br><br>
          Skins por: <span style="color:#56aaff;">LisPixel</span> <span style="font-size:0.85em;">(Excepto Slasher, Mafioso, Guest1337, Noob y Noli)</span><br>
          Skin de Slasher por: <span style="color:#56aaff;">ruimio</span> (<a href="https://www.planetminecraft.com/skin/slasher-roblox-forsaken-wide-4px-arms/" target="_blank" style="color:#56aaff;">link</a>)<br>
          Skin de Mafioso por: <span style="color:#56aaff;">1102xxxp</span> (<a href="https://www.planetminecraft.com/skin/mafioso-forsaken-6630689/" target="_blank" style="color:#56aaff;">link</a>)<br>
          Skin de Guest1337 por: <span style="color:#56aaff;">ENFIN</span> (<a href="https://www.planetminecraft.com/skin/dffsds/" target="_blank" style="color:#56aaff;">link</a>)<br>
          Skin de Noob por: ??? (<a href="https://es.namemc.com/skin/bd153c6f77d160e1" target="_blank" style="color:#56aaff;">link</a>)<br>
          Skin de Noli por: <span style="color:#56aaff;">Drifthere</span> (<a https://www.planetminecraft.com/skin/noli-forsaken-roblox/" target="_blank" style="color:#56aaff;">link</a>)<br>
          Note Block Covers: <span style="color:#56aaff;">Aedan</span><br>
          Canciones: Forsaken Sound Team, Key After Key, vladosikos17, 89M, Epic, BanicAttack<br><br>
          Inspirado por el juego de Roblox <b>Forsaken</b>.<br><br>
          <span style="font-size:0.8em;opacity:0.9;">Este mod y esta página no están afiliados a Mojang, Microsoft, Roblox Corp. ni Forsaken Dev Team.<br>
          .</span>`
      },
      en: {
        title: "ForsakenMC - Minecraft Java Mod",
        mainTitle: "ForsakenMC",
        subtitle: "ForsakenMC is a mod for <span style='color:#6dca45;'>Minecraft Java Edition</span> for <b>NeoForge 1.21.1</b> that brings content from the popular Roblox game <b>Forsaken</b> into Minecraft! Experience new adventures and challenges inspired by Forsaken’s world.",
        featuresTitle: "Main Features",
        features: [
          "Adds weapons, mobs, items, and mechanics from Roblox's Forsaken",
          "Adds a new structure from Forsaken",
          "Fight custom and challenging Forsaken mobs"
        ],
        installTitle: "Installation",
        installSteps: [
          "Install <a href='https://neoforged.net/' target='_blank'>NeoForge 1.21.1</a> for Minecraft.",
          "Download the <code>.jar</code> file of ForsakenMC from the <a href='https://github.com/AlfonsoRV69/forsakenmc/releases' target='_blank'>releases page</a>.",
          "Place the file in your Minecraft <code>mods</code> folder.",
          "Start the game and enjoy!"
        ],
        download: "Download ForsakenMC",
        supportTitle: "Support & Community",
        support: "Questions or suggestions? Open an <a href='https://github.com/AlfonsoRV69/forsakenmc/issues' target='_blank'>issue</a>.<br>Thank you for supporting the mod!",
        creditsBtn: "Credits",
        galleryBtn: "Gallery",
        galleryTitle: "Mod Screenshots",
        galleryCaptions: ["Structure", "Survivors", "Killers", "Skins"],
        changelogTitle: "Changelog (Latest Version)",
        changelogLoading: "<em>Loading...</em>",
        changelogError: "Error loading changelog.",
        changelogNotFound: "No release information found.",
        credits: `<b>Credits</b><br><br>
          Created using mod maker <a href="https://mcreator.net/about" target="_blank" style="color:#56aaff;">MCreator</a><br><br>
          Skins by: <span style="color:#56aaff;">LisPixel</span> <span style="font-size:0.85em;">(Except Slasher, Mafioso, Guest1337, Noob and Noli)</span><br>
          Slasher skin by: <span style="color:#56aaff;">ruimio</span> (<a href="https://www.planetminecraft.com/skin/slasher-roblox-forsaken-wide-4px-arms/" target="_blank" style="color:#56aaff;">link</a>)<br>
          Mafioso skin by: <span style="color:#56aaff;">1102xxxp</span> (<a href="https://www.planetminecraft.com/skin/mafioso-forsaken-6630689/" target="_blank" style="color:#56aaff;">link</a>)<br>
          Guest1337 skin by: <span style="color:#56aaff;">ENFIN</span> (<a href="https://www.planetminecraft.com/skin/dffsds/" target="_blank" style="color:#56aaff;">link</a>)<br>
          Noob skin by: ??? (<a href="https://es.namemc.com/skin/bd153c6f77d160e1" target="_blank" style="color:#56aaff;">link</a>)<br>
          Noli skin by: <span style="color:#56aaff;">Drifthere</span> (<a https://www.planetminecraft.com/skin/noli-forsaken-roblox/" target="_blank" style="color:#56aaff;">link</a>)<br>
          Note Block Covers: <span style="color:#56aaff;">Aedan</span><br>
          Songs: Forsaken Sound Team, Key After Key, vladosikos17, 89M, Epic, BanicAttack<br><br>
          Inspired by the Roblox game <b>Forsaken</b>.<br><br>
          <span style="font-size:0.8em;opacity:0.9;">This mod and page are not affiliated with Mojang, Microsoft, Roblox Corp. or Forsaken Dev Team.<br>
          </span>`
      }
    };

    const galleryImages = [
      { src: "estructura.png", alt: "Estructura / Structure" },
      { src: "survivors.png", alt: "Survivors" },
      { src: "killers.png", alt: "Killers" },
      { src: "skins.png", alt: "Skins" }
    ];

    function setLang(lang) {
      document.documentElement.lang = lang;
      document.title = content[lang].title;
      document.getElementById('mainTitle').textContent = content[lang].mainTitle;
      document.getElementById('subtitle').innerHTML = content[lang].subtitle;
      document.getElementById('featuresTitle').textContent = content[lang].featuresTitle;
      const featuresList = document.getElementById('featuresList');
      featuresList.innerHTML = "";
      content[lang].features.forEach(f => {
        const li = document.createElement('li');
        li.innerHTML = f;
        featuresList.appendChild(li);
      });
      document.getElementById('installTitle').textContent = content[lang].installTitle;
      const installList = document.getElementById('installList');
      installList.innerHTML = "";
      content[lang].installSteps.forEach(s => {
        const li = document.createElement('li');
        li.innerHTML = s;
        installList.appendChild(li);
      });
      document.getElementById('downloadBtn').textContent = content[lang].download;
      document.getElementById('supportTitle').textContent = content[lang].supportTitle;
      document.getElementById('support').innerHTML = content[lang].support;
      document.getElementById('creditsText').innerHTML = content[lang].credits;
      document.getElementById('creditsBtn').textContent = content[lang].creditsBtn;
      document.getElementById('galleryBtn').textContent = content[lang].galleryBtn;
      document.getElementById('galleryTitle').textContent = content[lang].galleryTitle;
      document.getElementById('changelogTitle').textContent = content[lang].changelogTitle;
      document.getElementById('changelogContent').innerHTML = content[lang].changelogLoading;
      document.getElementById('lang-es').classList.toggle('active', lang === 'es');
      document.getElementById('lang-en').classList.toggle('active', lang === 'en');
      fetchLatestRelease(lang);
    }

    function renderGallery() {
      const galleryGrid = document.getElementById('galleryGrid');
      galleryGrid.innerHTML = '';
      const lang = document.documentElement.lang;
      const captions = content[lang].galleryCaptions;
      galleryImages.forEach((img, idx) => {
        const item = document.createElement('div');
        item.className = "gallery-item";
        const el = document.createElement('img');
        el.src = img.src;
        el.alt = img.alt;
        el.onclick = () => openFullImg(idx);
        const caption = document.createElement('span');
        caption.className = "gallery-caption";
        caption.textContent = captions[idx] || '';
        item.appendChild(el);
        item.appendChild(caption);
        galleryGrid.appendChild(item);
      });
    }

    function openFullImg(idx) {
      const modal = document.getElementById('fullImgModal');
      const img = document.getElementById('fullImg');
      img.src = galleryImages[idx].src;
      img.alt = galleryImages[idx].alt;
      modal.style.display = "flex";
    }

    function closeFullImg() {
      document.getElementById('fullImgModal').style.display = "none";
    }

    function fetchLatestRelease(lang) {
      // fallback to current language if not provided
      lang = lang || document.documentElement.lang || 'es';
      const contentLang = content[lang];
      fetch('https://api.github.com/repos/AlfonsoRV69/forsakenmc/releases/latest')
        .then(response => response.json())
        .then(release => {
          if (release && release.body) {
            document.getElementById('changelogContent').innerHTML =
              `<strong>${release.name}</strong><br>${release.body.replace(/\n/g, '<br>')}`;
          } else {
            document.getElementById('changelogContent').innerHTML = contentLang.changelogNotFound;
          }
        })
        .catch(() => {
          document.getElementById('changelogContent').innerHTML = contentLang.changelogError;
        });
    }

    window.onload = function() {
      setLang('es');
      document.getElementById('lang-en').onclick = () => setLang('en');
      document.getElementById('lang-es').onclick = () => setLang('es');

      // Credits Modal
      var modal = document.getElementById("creditsModal");
      var btn = document.getElementById("creditsBtn");
      var span = document.getElementById("closeCredits");
      btn.onclick = function() { modal.style.display = "block"; }
      span.onclick = function() { modal.style.display = "none"; }
      window.onclick = function(event) {
        if (event.target == modal) { modal.style.display = "none"; }
        if (event.target == document.getElementById('fullImgModal')) { closeFullImg(); }
      };

      // Gallery Modal
      const galleryBtn = document.getElementById("galleryBtn");
      const galleryModal = document.getElementById("galleryModal");
      const closeGallery = document.getElementById("closeGallery");
      galleryBtn.onclick = function() {
        galleryModal.style.display = "block";
        renderGallery();
      };
      closeGallery.onclick = function() { galleryModal.style.display = "none"; }

      // Full image modal
      document.getElementById('closeFullImg').onclick = closeFullImg;

      // Changelog inicial (ya se llama en setLang, pero por si recargas el idioma)
      fetchLatestRelease('es');
    };
  </script>
</head>
<body>
  <div class="main-card">
    <div class="credits-gallery-row">
      <button class="credits-btn" id="creditsBtn">Créditos</button>
      <button class="gallery-btn" id="galleryBtn">Galería</button>
    </div>
    <div class="lang-switch">
      <button id="lang-es" class="lang-btn active">Español</button>
      <button id="lang-en" class="lang-btn">English</button>
    </div>
    <img src="fmcpfp.png" class="logo-fmcpfp" alt="ForsakenMC Logo">
    <h1 id="mainTitle">ForsakenMC</h1>
    <p id="subtitle">
      ForsakenMC es un mod para <span style="color:#6dca45;">Minecraft Java Edition</span> para <b>NeoForge 1.21.1</b> que trae contenido del popular juego de Roblox <b>Forsaken</b> a Minecraft. ¡Vive nuevas aventuras y desafíos inspirados en Forsaken!
    </p>
    <h2 id="featuresTitle">Características principales</h2>
    <ul id="featuresList">
      <li>Añade armas, mobs, ítems y mecánicas de Forsaken (Roblox)</li>
      <li>Añade una nueva estructura de Forsaken</li>
      <li>Enfréntate a mobs personalizados y desafiantes de Forsaken</li>
    </ul>
    <h2 id="installTitle">Instalación</h2>
    <ol id="installList">
      <li>Instala <a href='https://neoforged.net/' target='_blank'>NeoForge 1.21.1</a> para Minecraft.</li>
      <li>Descarga el archivo <code>.jar</code> de ForsakenMC desde la <a href='https://github.com/AlfonsoRV69/forsakenmc/releases' target='_blank'>página de releases</a>.</li>
      <li>Coloca el archivo en la carpeta <code>mods</code> de tu instalación de Minecraft.</li>
      <li>¡Inicia el juego y disfruta!</li>
    </ol>
    <a href="https://github.com/AlfonsoRV69/forsakenmc/releases" class="btn" id="downloadBtn" target="_blank">Descargar ForsakenMC</a>
    <h2 id="supportTitle">Soporte y comunidad</h2>
    <p id="support">
      ¿Dudas o sugerencias? Abre un <a href="https://github.com/AlfonsoRV69/forsakenmc/issues" target="_blank">issue</a>.<br>
      ¡Gracias por apoyar el mod!
    </p>
    <h2 id="changelogTitle">Changelog (Última versión)</h2>
    <div id="changelogContent">
      <em>Cargando...</em>
    </div>
  </div>
  <!-- Modal Créditos -->
  <div id="creditsModal" class="modal">
    <div class="modal-content">
      <span class="close" id="closeCredits">&times;</span>
      <div id="creditsText"></div>
    </div>
  </div>
  <!-- Modal Galería -->
  <div id="galleryModal" class="modal">
    <div class="modal-content">
      <span class="close" id="closeGallery">&times;</span>
      <h2 id="galleryTitle">Imágenes del Mod</h2>
      <div class="gallery-grid" id="galleryGrid"></div>
    </div>
  </div>
  <!-- Modal Imagen Completa -->
  <div class="full-img-modal" id="fullImgModal">
    <span class="close-full" id="closeFullImg">&times;</span>
    <img id="fullImg" src="" alt="Imagen del Mod">
  </div>
</body>
</html>
